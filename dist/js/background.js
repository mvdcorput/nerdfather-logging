!function(e){var s={};function t(r){if(s[r])return s[r].exports;var n=s[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=s,t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,s){if(1&s&&(e=t(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var n in e)t.d(r,n,function(s){return e[s]}.bind(null,n));return r},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},t.p="",t(t.s=1)}([,function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=new(t(2).MessageService),n=[];chrome.tabs.onUpdated.addListener(function(e,s,t){"complete"==s.status&&t.active&&-1===t.url.indexOf("chrome-extension://")&&chrome.tabs.query({active:!0,currentWindow:!0},function(s){n.push(t.url),r.reset(t.url),chrome.tabs.sendMessage(e,{method:"say",data:{code:"jsic",message:"Javascript informer connected."}},e=>{e&&e.messages&&(console.log("Content script connected",e.messages),r.addMessages(e.messages))})})}),chrome.runtime.onMessage.addListener(function(e,s,t){if(e){let s="ok";switch(e.method){case"say":console.trace("Someone is saying : ",e.data.code,e.data.message);break;case"initializePopup":const t=n[n.length-1];s={messages:r.messages.filter(e=>e.url===t)};break;case"getMessages":const o=n[n.length-1];s={url:o,messages:r.messages.filter(e=>e.url===o)},console.trace("Replying messages : ",e.method,s);break;case"log":r.addMessage(e)}t(s)}return!0})},function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.MessageService=class{constructor(){this.messages=[],this.addMessage=(e=>{this.messages.push(e)})}addMessages(e){this.messages=[...this.messages,...e]}reset(e){this.messages=this.messages.filter(s=>s.url!==e)}}}]);